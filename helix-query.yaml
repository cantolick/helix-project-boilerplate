indices:
  blog-index:
    include:
      - /blog/
    exclude:
      - /api/
    target: /query-index.json
    properties:
      title:
        selectFirst: "main h2, main h1"
        value: |
          return el.textContent.trim();
      lastModified:
        selectFirst: "main h4, main h3"
        value: |
          return el.textContent.trim().match(/[A-Za-z]+\s\d{4}/)?.[0] || "";
      description:
        selectFirst: "main p"
        value: |
          return el.textContent.trim();
      content:
        select: "main p"
        value: |
          // Join all paragraph texts into a single string
          return Array.from(els).map(e => e.textContent.trim()).join('\n\n');