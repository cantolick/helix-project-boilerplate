indices:
  blog-index:
    include:
      - /blog/**
    exclude:
      - /api/
    target: /query-index.json
    properties:
      title:
        selectFirst: "main h1, main h2, main .blog-title"
        value: |
          return el.textContent.trim();
      lastModified:
        selectFirst: "main time, main h4, main h3"
        value: |
          return el.getAttribute('datetime') || el.textContent.trim().match(/[A-Za-z]+\s\d{4}/)?.[0] || el.textContent.trim();
      description:
        selectFirst: "main p"
        value: |
          return el.textContent.trim();
      content:
        select: "main p"
        value: |
          return Array.from(els).map(e => e.textContent.trim()).join('\n\n');
      image:
        selectFirst: "main img"
        value: |
          return el ? el.src : null;